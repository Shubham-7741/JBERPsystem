<div class="main-div" style="padding-top: 20px">
  <div class="py-2">
    <div class="card p-3 me-4 px-md-5 py-3">
      <mat-card-title>
        <h2 class="py-2 border-bottom">
          <i class="fa-solid fa-user"></i> Teachers Details
        </h2>
      </mat-card-title>
      <mat-card-content>
        <form [formGroup]="addTeacherForm" class="row g-3">
          <!-- Teacher Name -->
          <div class="col-md-6">
            <label for="name" class="form-label">
              <b>Teacher Name</b>
              <span class="text-danger fw-bold"> *</span>
            </label>
            <input
              type="text"
              id="name"
              class="form-control"
              formControlName="name"
              placeholder="Teacher Name"
            />
            <div
              class="form-text text-danger fw-bold"
              *ngIf="addTeacherForm.get('name')?.errors?.['required'] && (addTeacherForm.get('name')?.dirty || addTeacherForm.get('name')?.touched)"
            >
              Name is required.
            </div>
          </div>
          <!-- Address -->
          <div class="col-md-6">
            <label for="address" class="form-label">
              <b>Address</b>
              <span class="text-danger fw-bold"> *</span>
            </label>
            <input
              type="text"
              id="address"
              class="form-control"
              formControlName="address"
              placeholder="Address"
            />
            <div
              class="form-text text-danger fw-bold"
              *ngIf="addTeacherForm.get('address')?.errors?.['required'] && (addTeacherForm.get('address')?.dirty || addTeacherForm.get('address')?.touched)"
            >
              Address is required.
            </div>
          </div>
          <!-- Contact No. -->
          <div class="col-md-6">
            <label for="mobile" class="form-label">
              <b>Contact No.</b>
              <span class="text-danger fw-bold"> *</span>
            </label>
            <input
              type="tel"
              id="mobile"
              maxlength="10"
              class="form-control"
              formControlName="mobile"
              placeholder="Contact No."
            />
            <div
              class="form-text text-danger fw-bold"
              *ngIf="addTeacherForm.get('mobile')?.errors?.['required'] && (addTeacherForm.get('mobile')?.dirty || addTeacherForm.get('mobile')?.touched)"
            >
              Contact Number is required.
            </div>
            <div
              class="form-text text-danger fw-bold"
              *ngIf="addTeacherForm.get('mobile')?.errors?.['pattern'] && (addTeacherForm.get('mobile')?.dirty || addTeacherForm.get('mobile')?.touched)"
            >
              Contact Number is invalid.
            </div>
          </div>
          <!-- Password -->
          <div class="col-md-6 position-relative">
            <label for="password" class="form-label">
              <b>Enter Password</b>
              <span class="text-danger fw-bold"> *</span>
            </label>
            <input
              type="password"
              id="password"
              class="form-control"
              formControlName="password"
              placeholder="Enter Password"
            />
            <span
              class="position-absolute end-0 top-50 translate-middle-y"
              style="padding-right: 25px; padding-top: 25px"
            >
              <i
                class="fa"
                [ngClass]="{
                  'fa-eye-slash': !hidePassword,
                  'fa-eye': hidePassword
                }"
                (click)="togglePasswordVisibility('password')"
              ></i>
            </span>
            <div
              class="form-text text-danger fw-bold"
              *ngIf="addTeacherForm.get('password')?.errors?.['required'] && (addTeacherForm.get('password')?.dirty || addTeacherForm.get('password')?.touched)"
            >
              Password is required.
            </div>
          </div>
          <!-- Confirm Password -->
          <div class="col-md-6 position-relative">
            <label for="conPassword" class="form-label">
              <b>Confirm Password</b>
              <span class="text-danger fw-bold"> *</span>
            </label>
            <input
              type="password"
              id="conPassword"
              class="form-control"
              formControlName="conPassword"
              placeholder="Confirm Password"
            />
            <span
              class="position-absolute end-0 top-50 translate-middle-y"
              style="padding-right: 25px; padding-top: 25px"
            >
              <i
                class="fa"
                [ngClass]="{
                  'fa-eye-slash': !hideCPassword,
                  'fa-eye': hideCPassword
                }"
                (click)="togglePasswordVisibility('conPassword')"
              ></i>
            </span>
            <div
              class="form-text text-danger fw-bold"
              *ngIf="addTeacherForm.get('conPassword')?.errors?.['required'] && (addTeacherForm.get('conPassword')?.dirty || addTeacherForm.get('conPassword')?.touched)"
            >
              Confirm Password is required.
            </div>
          </div>
          <!-- Email -->
          <div class="col-md-6">
            <label for="email" class="form-label">
              <b>Email</b>
              <span class="text-danger fw-bold"> *</span>
            </label>
            <input
              type="email"
              id="email"
              class="form-control"
              formControlName="email"
              placeholder="Email"
            />
            <div
              class="form-text text-danger fw-bold"
              *ngIf="addTeacherForm.get('email')?.errors?.['required'] && (addTeacherForm.get('email')?.dirty || addTeacherForm.get('email')?.touched)"
            >
              Email is required.
            </div>
            <div
              class="form-text text-danger fw-bold"
              *ngIf="addTeacherForm.get('email')?.errors?.['maxlength'] && (addTeacherForm.get('email')?.dirty || addTeacherForm.get('email')?.touched)"
            >
              Email length is too large.
            </div>
          </div>
          <!-- Teacher Category -->
          <div class="col-md-6">
            <label for="category" class="form-label">
              <b>Teacher's Category</b>
              <span class="text-danger fw-bold"> *</span>
            </label>
            <div class="input-group">
              <select
                id="category"
                class="form-control"
                formControlName="teachercategory"
                (change)="onCategoryChange()"
              >
                <option value="" disabled>Select Category</option>
                <option value="Dance">Dance</option>
                <option value="Music">Music</option>
                <option value="Singing">Singing</option>
                <option value="Custom">Custom</option>
              </select>
              <input
                *ngIf="
                  addTeacherForm.get('teachercategory')?.value === 'Custom'
                "
                type="text"
                class="form-control"
                formControlName="customCategory"
                placeholder="Enter Custom Category"
              />
            </div>
            <div
              class="form-text text-danger fw-bold"
              *ngIf="addTeacherForm.get('teachercategory')?.errors?.['required'] && (addTeacherForm.get('teachercategory')?.dirty || addTeacherForm.get('teachercategory')?.touched)"
            >
              Teacher's category is required.
            </div>
          </div>

          <!-- Batches Dropdown -->
          <div class="col-md-6">
            <label for="batchName" class="form-label">
              <b>Select School</b>
              <span class="text-danger fw-bold"> *</span>
            </label>
            <select
              id="batchName"
              class="form-control"
              formControlName="batchName"
            >
              <option value="" disabled>Select School</option>
              <option *ngFor="let batch of batches" [value]="batch.batchName">
                {{ batch.batchName }}
              </option>
            </select>
            <div
              class="form-text text-danger fw-bold"
              *ngIf="addTeacherForm.get('batchName')?.errors?.['required'] && (addTeacherForm.get('batchName')?.dirty || addTeacherForm.get('batchName')?.touched)"
            >
              School is required.
            </div>
          </div>

          <!-- Starting Date -->
          <div class="col-md-6">
            <label for="startingDate" class="form-label">
              <b>Starting Date</b>
              <span class="text-danger fw-bold"> *</span>
            </label>
            <input
              type="date"
              id="startingDate"
              class="form-control"
              formControlName="startingDate"
            />
            <div
              class="form-text text-danger fw-bold"
              *ngIf="addTeacherForm.get('startingDate')?.errors?.['required'] && (addTeacherForm.get('startingDate')?.dirty || addTeacherForm.get('startingDate')?.touched)"
            >
              Starting date is required.
            </div>
          </div>

          <!-- Teacher Salary -->
          <div class="col-md-6">
            <label for="teacherSalary" class="form-label">
              <b>Teacher Salary</b>
              <!-- <span class="text-danger fw-bold"> *</span> -->
            </label>
            <input
              type="number"
              id="teacherSalary"
              class="form-control"
              formControlName="teacherSalary"
              placeholder="Teacher Salary"
            />
            <!-- <div
              class="form-text text-danger fw-bold"
              *ngIf="addTeacherForm.get('teacherSalary')?.errors?.['required'] && (addTeacherForm.get('teacherSalary')?.dirty || addTeacherForm.get('teacherSalary')?.touched)"
            >
              Teacher salary is required.
            </div> -->
          </div>
          <!-- Buttons -->
          <div class="col-12">
            <div class="text-center my-3">
              <button
                type="button"
                class="btn btn-primary me-3"
                *ngIf="showSubmit"
                (click)="postTeachersDetails()"
              >
                Submit
              </button>
              <!-- <button
                type="button"
                class="btn btn-primary me-3"
                *ngIf="showUpdate"
                (click)="updateTeacherDetails()"
              >
                Update
              </button> -->
              <button
                type="button"
                class="btn btn-danger"
                routerLink="/list_of_teachers"
              >
                Close
              </button>
            </div>
          </div>
        </form>
      </mat-card-content>
    </div>
  </div>
</div>
